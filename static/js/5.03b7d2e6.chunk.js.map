{"version":3,"sources":["styles/ChatMessageItem.module.css","styles/ChatMessages.module.css","pages/Chat/Messages/ChatMessageItem.tsx","pages/Chat/Messages/Messages.tsx","pages/Chat/Messages/AddMessageChatForm.tsx","pages/Chat/Chat.tsx","pages/Chat/ChatPage.tsx"],"names":["module","exports","ChatMessageItem","message","className","style","userAvatarContainer","src","photo","alt","userName","webSocketChannel","WebSocket","Messages","useState","chatMessages","setChatMessages","useEffect","addEventListener","e","newMessages","JSON","parse","data","map","m","index","AddMessageChatForm","newMessage","setNewMessage","value","name","onChange","currentTarget","onClick","send","Chat","ChatPage"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,oBAAsB,+C,oBCAxCD,EAAOC,QAAU,CAAC,aAAe,qC,6FCSpBC,EAAwD,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAEnE,OACI,gCACI,sBAAKC,UAAWC,IAAMC,oBAAtB,UACI,qBAAKC,IAAKJ,EAAQK,MAAOC,IAAI,gBAC5BN,EAAQO,YAEb,8BAAMP,EAAQA,c,kBCbbQ,EAAmB,IAAIC,UAAU,gEAEjCC,EAAW,WAAO,IAAD,EAEcC,mBAA4B,IAF1C,mBAEnBC,EAFmB,KAELC,EAFK,KAW1B,OAPAC,qBAAU,WACNN,EAAiBO,iBAAiB,WAAW,SAACC,GAC1C,IAAMC,EAAcC,KAAKC,MAAMH,EAAEI,MACjCP,EAAgB,GAAD,mBAAKD,GAAL,YAAsBK,UAE1C,CAACL,IAGA,8BACG,qBAAKX,UAAWC,IAAMU,aAAtB,SACKA,EAAaS,KAAI,SAACC,EAAGC,GAAJ,OAAc,cAAC,EAAD,CAAiBvB,QAASsB,GAAQC,WClBpEC,EAAqB,WAAM,MAGAb,mBAAS,IAHT,mBAG7Bc,EAH6B,KAGjBC,EAHiB,KAUpC,OACI,gCACG,8BACI,0BAAUC,MAAOF,EACZG,KAAK,iBACLC,SAAU,SAACb,GAAD,OAAOU,EAAcV,EAAEc,cAAcH,YAGxD,8BAAK,wBAAQI,QAbI,WAChBN,IACJjB,EAAiBwB,KAAKP,GACtBC,EAAc,MAUN,wBCfHO,EAAO,WAEhB,OACI,gCACG,cAAC,EAAD,IACA,cAAC,EAAD,QCGIC,UATE,WACb,OACI,8BACG,cAAC,EAAD","file":"static/js/5.03b7d2e6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userAvatarContainer\":\"ChatMessageItem_userAvatarContainer__PGKfi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatMessages\":\"ChatMessages_chatMessages__24lZt\"};","import React from 'react'\nimport style from '../../../styles/ChatMessageItem.module.css'\n\nexport type chatMessageType = {\n    message: string,\n    userId: number,\n    photo: string,\n    userName: string\n}\n\nexport const ChatMessageItem: React.FC<{message: chatMessageType}> = ({message}) => {\n    \n    return (\n        <div>\n            <div className={style.userAvatarContainer}>\n                <img src={message.photo} alt=\"user-avatar\"/>\n                {message.userName}\n            </div>\n            <div>{message.message}</div>\n        </div>\n    )\n}\n","import React, { useEffect, useState } from 'react'\nimport { ChatMessageItem, chatMessageType } from './ChatMessageItem'\nimport style from '../../../styles/ChatMessages.module.css'\n\n\nexport const webSocketChannel = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\n\nexport const Messages = () => {\n   \n    const [chatMessages, setChatMessages] = useState<chatMessageType[]>([])\n   \n    useEffect(() => {\n        webSocketChannel.addEventListener('message', (e: MessageEvent) => {\n            const newMessages = JSON.parse(e.data)\n            setChatMessages([...chatMessages, ...newMessages])\n        })\n    }, [chatMessages])\n    \n    return (\n        <div>\n           <div className={style.chatMessages}>\n               {chatMessages.map((m, index) => <ChatMessageItem message={m} key={index} />)} \n            </div>\n        </div>\n    )\n}\n","import React, { useState } from 'react'\nimport { webSocketChannel } from './Messages'\n\nexport const AddMessageChatForm = () => {\n    \n    // newMessage is a string which I will send to another person, this is not new message from the ws channel\n    const [newMessage, setNewMessage] = useState('')\n    \n    const sendChatMessage = () => {\n        if(!newMessage) {return}\n        webSocketChannel.send(newMessage)\n        setNewMessage('')\n    }\n    return (\n        <div>\n           <div>\n               <textarea value={newMessage}\n                    name=\"addChatMessage\" \n                    onChange={(e) => setNewMessage(e.currentTarget.value)}>\n                </textarea>\n            </div> \n           <div><button onClick={sendChatMessage}>Send</button></div>\n        </div>\n    )\n}\n","import React from 'react'\nimport { AddMessageChatForm } from './Messages/AddMessageChatForm'\nimport { Messages } from './Messages/Messages'\n\n\n\nexport const Chat = () => {\n    \n    return (\n        <div>\n           <Messages/>\n           <AddMessageChatForm/> \n        </div>\n    )\n}\n","import React from 'react'\nimport { Chat } from './Chat';\n\n\n\nconst ChatPage = () => {\n    return (\n        <div>\n           <Chat /> \n\n        </div>\n    )\n}\n\nexport default ChatPage;"],"sourceRoot":""}